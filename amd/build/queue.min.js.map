{"version":3,"file":"queue.min.js","sources":["../src/queue.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Queue AMD module for Integration Hub.\n *\n * Handles the payload viewer modal in the queue management page.\n *\n * @module     local_integrationhub/queue\n * @copyright  2026 Integration Hub Contributors\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(\n    [\n        'jquery',\n        'core/modal_factory',\n        'core/modal_events',\n        'core/notification'\n    ],\n    function(\n        $,\n        ModalFactory,\n        ModalEvents,\n        Notification\n    ) {\n        return {\n            init: function() {\n                $('body')\n                    .off('click.ihpayload')\n                    .on(\n                        'click.ihpayload',\n                        '.ih-view-payload',\n                        function(e) {\n                            e.preventDefault();\n                            var trigger = $(this);\n                            var payload = trigger.attr('data-payload');\n                            var title = trigger.attr('data-title') || 'Payload';\n                            ModalFactory.create({\n                                type: ModalFactory.types.CANCEL,\n                                title: title,\n                                body: $('<pre>')\n                                    .css({\n                                        'max-height': '500px',\n                                        'overflow': 'auto'\n                                    })\n                                    .text(payload)\n                            })\n                                .then(function(modal) {\n\n                                    modal.show();\n\n                                    modal.getRoot().on(\n                                        ModalEvents.hidden,\n                                        function() {\n                                            modal.destroy();\n                                        }\n                                    );\n                                    return null;\n                                })\n                                .catch(Notification.exception);\n                        }\n                    );\n            }\n        };\n    }\n);\n"],"names":["define","$","ModalFactory","ModalEvents","Notification","init","off","on","e","preventDefault","trigger","this","payload","attr","title","create","type","types","CANCEL","body","css","text","then","modal","show","getRoot","hidden","destroy","catch","exception"],"mappings":";;;;;;;;;AAyBAA,oCACI,CACI,SACA,qBACA,oBACA,sBAEJ,SACIC,EACAC,aACAC,YACAC,oBAEO,CACHC,KAAM,WACFJ,EAAE,QACGK,IAAI,mBACJC,GACG,kBACA,oBACA,SAASC,GACLA,EAAEC,qBACEC,QAAUT,EAAEU,MACZC,QAAUF,QAAQG,KAAK,gBACvBC,MAAQJ,QAAQG,KAAK,eAAiB,UAC1CX,aAAaa,OAAO,CAChBC,KAAMd,aAAae,MAAMC,OACzBJ,MAAOA,MACPK,KAAMlB,EAAE,SACHmB,IAAI,cACa,iBACF,SAEfC,KAAKT,WAETU,MAAK,SAASC,cAEXA,MAAMC,OAEND,MAAME,UAAUlB,GACZJ,YAAYuB,QACZ,WACIH,MAAMI,aAGP,QAEVC,MAAMxB,aAAayB"}